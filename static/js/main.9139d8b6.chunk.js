(this.webpackJsonpposts=this.webpackJsonpposts||[]).push([[0],{11:function(t,e,n){t.exports={dialogs:"Posts_dialogs__2rZbu",none_scrolling:"Posts_none_scrolling__2_EPt",messageBox:"Posts_messageBox__YiQE8",messagesContent:"Posts_messagesContent__37ydJ",messageInput:"Posts_messageInput__nLtXa",input:"Posts_input__3sjUp",input_new_description:"Posts_input_new_description__3Y-yV",input_new_title:"Posts_input_new_title__2H33O",checkedBlock:"Posts_checkedBlock__3zwST",checkedOptions:"Posts_checkedOptions__1nC6Z",funcBlock:"Posts_funcBlock__26Lil",button_send_block:"Posts_button_send_block__1e3xu",button_all_posts:"Posts_button_all_posts__3_zFg",search:"Posts_search__eHZbA",header_button_block:"Posts_header_button_block__3t3s9"}},120:function(t,e,n){"use strict";n.r(e);var o=n(0),c=n.n(o),i=n(9),s=n.n(i),a=(n(94),n(65)),r=n(66),l=n(78),d=n(77),u="ADD_POST",j="GET_POSTS",b="EDIT_POST",_="DELETE_POST",p=n(22),m=n(18),O=function(t){var e={};return t.forEach((function(t){return e[t]=(e[t]||0)+1})),e},f=function(t,e,n){return{id:t,idPost:e,descriptionsArray:n.body.toLowerCase().split(" "),titleArray:n.title.toLowerCase().split(" ")}},h=function(t){return{idPost:t.idPost,countDescriptionWords:O(t.descriptionsArray),countTitleWords:O(t.titleArray)}},x=function(t,e){return t.findIndex((function(t){return t.id===e}))},v=n(67),g=n.n(v).a.create({baseURL:"https://jsonplaceholder.typicode.com/",withCredentials:!0}),y=function(){return g.get("posts").then((function(t){return t.data.slice(0,10)}))},C=[{id:0,title:"",body:"",createAt:""}],P=C.map((function(t){return{id:Date.now(),idPost:t.id,descriptionsArray:t.body.toLowerCase().split(" "),titleArray:t.title.toLowerCase().split(" ")}})),k={sliceArray:C,countSameWord:P.map(h)},S=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:k,e=arguments.length>1?arguments[1]:void 0;switch(e.type){case j:var n=e.payload.posts,o=[],c=[],i=null;return n.forEach((function(t){i=f(Date.now()+1,t.id,t),o.push({id:t.id,body:t.body,title:t.title,createAt:new Date}),c.push(h(i))})),{sliceArray:[].concat(o),countSameWord:[].concat(Object(m.a)(t.countSameWord),c)};case u:var s=e.payload.post,a=Date.now(),r=f(a+1,a,s);return{sliceArray:[].concat(Object(m.a)(t.sliceArray),[{id:a,body:s.body,title:s.title,createAt:new Date}]),countSameWord:[].concat(Object(m.a)(t.countSameWord),[h(r)])};case b:var l=e.payload.post,d=f(Date.now()+1,l.id,l),O=x(t.sliceArray,l.id);return{sliceArray:[].concat(Object(m.a)(t.sliceArray.slice(0,O)),[Object(p.a)(Object(p.a)({},l),{},{id:t.sliceArray[O].id})],Object(m.a)(t.sliceArray.slice(O+1))),countSameWord:[].concat(Object(m.a)(t.countSameWord.filter((function(t){return t.idPost!==l.id}))),[h(d)])};case _:var v=e.payload.post;return{sliceArray:Object(m.a)(t.sliceArray.filter((function(t){return t.id!==v.id}))),countSameWord:Object(m.a)(t.countSameWord.filter((function(t){return t.idPost!==v.id})))};default:return t}},w=n(27),N=n(17),A=n(79),D=n(28),W=n.n(D),B=n(167),M=n(148),T=n(152),E=n(153),L=n(154),z=n(155),I=n(156),Y=n(157),J=n(4),F={delete:function(t){return Object(J.jsx)(M.a,{htmlColor:t})},send:function(t){return Object(J.jsx)(T.a,{htmlColor:t})},compare:function(t){return Object(J.jsx)(E.a,{htmlColor:t})},add:function(t){return Object(J.jsx)(L.a,{htmlColor:t})},list:function(t){return Object(J.jsx)(z.a,{htmlColor:t})},edit:function(t){return Object(J.jsx)(I.a,{htmlColor:t})},close:function(t){return Object(J.jsx)(Y.a,{htmlColor:t})}},q=n(72),H=n.n(q),U=function(t){var e=t.className,n=t.onClick,o=t.title,c=t.icon,i=t.color;return Object(J.jsx)(B.a,{title:o,placement:"top",children:Object(J.jsx)("button",{className:"".concat(e," ").concat(H.a.button_icon),onClick:n,children:F[c](i)})})};U.defaultProps={className:"",onClick:null,title:"",icon:""};var Z=U,K=n(74),X=n.n(K),G=n(159),Q=n(160),R=n(161),V=n(38),$=n(162),tt=function(t){var e=t.post,n=t.update,o=t.deleting,c=t.compare,i=t.options,s=t.toggle,a=t.isSame,r=t.setSame;return Object(J.jsxs)(G.a,{className:W.a.items,children:[Object(J.jsx)(Q.a,{title:i.title.isChecked?Object(J.jsx)("h4",{className:W.a.items_title,children:e.title}):null,subheader:i.createAt.isChecked?Object(J.jsx)("div",{className:W.a.items_date,children:Object(J.jsx)("div",{className:W.a.date_and_time,children:e.createAt?X()(e.createAt).format("MMMM Do YYYY, h:mm:ss a"):""})}):null}),Object(J.jsx)(R.a,{children:Object(J.jsx)(V.a,{variant:"body2",color:"textPrimary",component:"span",children:i.description.isChecked?Object(J.jsx)("div",{className:W.a.items_text,children:e.body}):null})}),Object(J.jsx)($.a,{children:a?Object(J.jsx)(Z,{title:"All posts",onClick:function(){return r(!1)},icon:"list"}):Object(J.jsxs)("div",{className:W.a.buttonBlock,children:[Object(J.jsx)(Z,{title:"Top same",onClick:function(){return c(e)},icon:"compare"}),Object(J.jsx)(Z,{title:"Edit",onClick:function(){s(),n(e)},icon:"edit"}),Object(J.jsx)(Z,{title:"Delete",className:W.a.button_delete,onClick:function(){return o(e)},icon:"delete",color:"red"})]})})]})},et=n(11),nt=n.n(et),ot=n(48),ct=n.n(ot),it=function(t){var e=t.isShowing,n=t.hide,o=t.children,c=t.clearModal;return e?s.a.createPortal(Object(J.jsx)(J.Fragment,{children:Object(J.jsx)("div",{className:ct.a.modal,children:Object(J.jsxs)("div",{className:ct.a.modal_content,children:[Object(J.jsx)("div",{className:ct.a.buttonBlock,children:Object(J.jsx)(Z,{title:"close",onClick:function(){c(),n()},icon:"close"})}),o]})})}),document.body):null},st=function(){var t=Object(o.useState)(!1),e=Object(N.a)(t,2),n=e[0],c=e[1];return{isShowing:n,toggle:function(){c(!n)}}},at=function(t,e){for(var n=0,o=0,c=Object.entries(t);o<c.length;o++){var i=Object(N.a)(c[o],2),s=i[0],a=i[1],r=e[s];r&&(n+=Math.min(r,a))}return n},rt=n(163),lt=n(165),dt=n(164),ut=n(75),jt=n.n(ut),bt=function(t){var e=t.className,n=t.classNameBox,o=t.onChange,c=t.id,i=t.value,s=t.label,a=t.rowsMax,r=t.rows,l=t.variant,d=t.size;return Object(J.jsx)("div",{className:n,children:Object(J.jsx)(dt.a,{className:"".concat(e," ").concat(jt.a.input),onChange:o,id:c,value:i,label:s,rowsMax:a,rows:r,multiline:!0,variant:l,size:d})})};bt.defaultProps={className:"",onChange:null,id:"",value:"",label:"",rowsMax:1,rows:1,variant:"outlined",size:"medium"};var _t={title:{isChecked:!0,fieldName:"Title"},description:{isChecked:!0,fieldName:"Description"},createAt:{isChecked:!0,fieldName:"Date add"}},pt="title",mt="body",Ot=function(t){var e,n=t.descriptions,c=t.countSameWord,i=Object(A.a)(t,["descriptions","countSameWord"]),s=Object(o.useState)((e={id:""},Object(w.a)(e,pt,""),Object(w.a)(e,mt,""),Object(w.a)(e,"createAt",""),e)),a=Object(N.a)(s,2),r=a[0],l=a[1],d=Object(o.useState)(""),u=Object(N.a)(d,2),j=u[0],b=u[1],_=Object(o.useState)(!1),O=Object(N.a)(_,2),f=O[0],h=O[1],x=Object(o.useState)(!1),v=Object(N.a)(x,2),g=v[0],y=v[1],C=Object(o.useState)(n),P=Object(N.a)(C,2),k=P[0],S=P[1],D=Object(o.useState)(n),W=Object(N.a)(D,2),B=W[0],M=W[1],T=Object(o.useState)(_t),E=Object(N.a)(T,2),L=E[0],z=E[1],I=st(),Y=I.isShowing,F=I.toggle,q=function(){l({title:"",body:""}),h(!1)};Object(o.useEffect)((function(){var t=j.toLowerCase();S(n.filter((function(e){return e.title.toLowerCase().includes(t)})))}),[n,j]);var H=function(t){i.deletePost(t),q()},U=function(t){h(!0),l(t)},K=function(t){y(!0);var e=c.find((function(e){return e.idPost===t.id})),o=c.filter((function(e){return e.idPost!==t.id}));M([t].concat(Object(m.a)(function(t,e){var n=e.itemDescription.filter((function(t){return t.compareSum})).sort((function(t,e){return e.compareSum-t.compareSum})).slice(0,2);return t.filter((function(t){return n.find((function(e){return e.idPost===t.id}))}))}(n,function(t,e){return{itemDescription:e.map((function(e){var n=at(t.countDescriptionWords,e.countDescriptionWords);return n+=at(t.countTitleWords,e.countTitleWords),{idPost:e.idPost,compareSum:n}}))}}(e,o)))))},X=function(t){l(Object(p.a)(Object(p.a)({},r),{},Object(w.a)({},t.target.id,t.target.value)))},G=function(t){return Object(J.jsx)(tt,{options:L,update:U,deleting:H,compare:K,post:t,toggle:F,isSame:g,setSame:y},t.id)},Q=function(t,e){return Object(J.jsx)("div",{className:nt.a.checkedOptions,children:Object(J.jsx)(rt.a,{control:Object(J.jsx)(lt.a,{id:e.fieldName,name:e.fieldName,checked:e.isChecked,onChange:function(e){return function(t,e){z((function(t){return Object(p.a)(Object(p.a)({},t),{},Object(w.a)({},e,Object(p.a)(Object(p.a)({},t[e]),{},{isChecked:!t[e].isChecked})))}))}(0,t)},size:"small",color:"primary"}),label:e.fieldName})},e.fieldName)};return Object(J.jsx)("div",{className:Y?"".concat(nt.a.dialogs," ").concat(nt.a.none_scrolling):"".concat(nt.a.dialogs),children:Object(J.jsxs)("div",{className:nt.a.messageBox,children:[Object(J.jsxs)("div",{className:nt.a.funcBlock,children:[Object(J.jsx)(bt,{className:"".concat(nt.a.search),onChange:function(t){b(t.target.value)},value:j,label:"Search",size:"small"}),Object(J.jsx)("div",{className:nt.a.checkedBlock,children:Object.entries(L).map((function(t){return Q.apply(void 0,Object(m.a)(t))}))}),Object(J.jsx)("div",{className:nt.a.header_button_block,children:Object(J.jsx)(Z,{icon:"add",title:"New Post",onClick:F})}),Object(J.jsx)(it,{clearModal:q,isShowing:Y,hide:F,children:Object(J.jsxs)("div",{className:nt.a.messageInput,children:[Object(J.jsx)(bt,{classNameBox:nt.a.input_new_title,onChange:X,id:pt,value:r.title,label:"Title",rowsMax:2}),Object(J.jsx)(bt,{classNameBox:nt.a.input_new_description,onChange:X,id:mt,value:r.body,label:"Description",rowsMax:5,rows:4}),Object(J.jsx)("div",{className:nt.a.button_send_block,children:Object(J.jsx)(Z,{title:"Send",onClick:f?function(){i.editPost(r),q(),h(!1),F()}:function(){r.body&&""!==r.title&&i.addPost(r),q(),F()},icon:"send"})})]})})]}),Object(J.jsx)("div",{className:nt.a.messagesContent,children:g?B.map(G):k.map(G)})]})})},ft=n(45),ht=function(t){Object(l.a)(n,t);var e=Object(d.a)(n);function n(){return Object(a.a)(this,n),e.apply(this,arguments)}return Object(r.a)(n,[{key:"componentDidMount",value:function(){(0,this.props.getPosts)()}},{key:"render",value:function(){return Object(J.jsx)(Ot,{descriptions:this.props.descriptions,countSameWord:this.props.countSameWord,addPost:this.props.addDescriptionActionCreator,editPost:this.props.editPostAC,deletePost:this.props.deletePostAC})}}]),n}(c.a.Component),xt=Object(ft.b)((function(t){return{descriptions:t.postsPage.sliceArray,countSameWord:t.postsPage.countSameWord}}),{getPosts:function(){return function(t){y().then((function(e){t({type:j,payload:{posts:e}})}))}},addDescriptionActionCreator:function(t){return{type:u,payload:{post:t}}},editPostAC:function(t){return{type:b,payload:{post:t}}},deletePostAC:function(t){return{type:_,payload:{post:t}}}})(ht);var vt=function(){return Object(J.jsx)(J.Fragment,{children:Object(J.jsx)(xt,{})})},gt=n(49),yt=n(76),Ct=Object(gt.b)({postsPage:S}),Pt=Object(gt.c)(Ct,Object(gt.a)(yt.a));s.a.render(Object(J.jsx)(ft.a,{store:Pt,children:Object(J.jsx)(vt,{})}),document.getElementById("root"))},28:function(t,e,n){t.exports={messages:"Description_messages__38-2W",items:"Description_items__2lKeH",buttonBlock:"Description_buttonBlock__1oLhi",items_text:"Description_items_text__JTXSJ",items_title:"Description_items_title__wIth5",items_date:"Description_items_date__1PwpA",date_and_time:"Description_date_and_time__3CWEt",button_delete:"Description_button_delete__wg6aI",footer:"Description_footer__2fPzc"}},48:function(t,e,n){t.exports={modal:"Modal_modal__1pUjq",modal_content:"Modal_modal_content__cqj3u",buttonBlock:"Modal_buttonBlock__OzCWK"}},72:function(t,e,n){t.exports={button_icon:"IconButton_button_icon__2t2_N"}},75:function(t,e,n){t.exports={input:"CustomTextField_input__1WtAq"}},94:function(t,e,n){}},[[120,1,2]]]);
//# sourceMappingURL=main.9139d8b6.chunk.js.map