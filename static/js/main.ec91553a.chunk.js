(this.webpackJsonpposts=this.webpackJsonpposts||[]).push([[0],{11:function(t,e,n){t.exports={dialogs:"Posts_dialogs__2rZbu",none_scrolling:"Posts_none_scrolling__2_EPt",messageBox:"Posts_messageBox__YiQE8",messageInput:"Posts_messageInput__nLtXa",input:"Posts_input__3sjUp",input_new_description:"Posts_input_new_description__3Y-yV",input_new_title:"Posts_input_new_title__2H33O",checkedOptions:"Posts_checkedOptions__1nC6Z",funcBlock:"Posts_funcBlock__26Lil",button_send_block:"Posts_button_send_block__1e3xu",button_all_posts:"Posts_button_all_posts__3_zFg",button_block:"Posts_button_block__3AtKg",checkedBlock:"Posts_checkedBlock__3zwST",search:"Posts_search__eHZbA",header_button_block:"Posts_header_button_block__3t3s9"}},120:function(t,e,n){"use strict";n.r(e);var c=n(0),o=n.n(c),i=n(9),s=n.n(i),a=(n(94),n(65)),r=n(66),l=n(78),d=n(77),u="ADD_POST",b="GET_POSTS",j="EDIT_POST",m="DELETE_POST",_=n(22),p=n(18),O=function(t){var e={};return t.forEach((function(t){return e[t]=(e[t]||0)+1})),e},f=function(t,e,n){return{id:t,idPost:e,descriptionsArray:n.body.toLowerCase().split(" "),titleArray:n.title.toLowerCase().split(" ")}},h=function(t){return{idPost:t.idPost,countDescriptionWords:O(t.descriptionsArray),countTitleWords:O(t.titleArray)}},x=function(t,e){return t.findIndex((function(t){return t.id===e}))},g=n(67),y=n.n(g).a.create({baseURL:"https://jsonplaceholder.typicode.com/",withCredentials:!0}),v=function(){return y.get("posts").then((function(t){return t.data.slice(0,10)}))},C=[{id:0,title:"",body:"",createAt:""}],P=C.map((function(t){return{id:Date.now(),idPost:t.id,descriptionsArray:t.body.toLowerCase().split(" "),titleArray:t.title.toLowerCase().split(" ")}})),k={sliceArray:C,countSameWord:P.map(h)},S=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:k,e=arguments.length>1?arguments[1]:void 0;switch(e.type){case b:var n=e.payload.posts,c=[],o=[],i=null;return n.forEach((function(t){i=f(Date.now()+1,t.id,t),c.push({id:t.id,body:t.body,title:t.title,createAt:new Date}),o.push(h(i))})),{sliceArray:[].concat(c),countSameWord:[].concat(Object(p.a)(t.countSameWord),o)};case u:var s=e.payload.post,a=Date.now(),r=f(a+1,a,s);return{sliceArray:[].concat(Object(p.a)(t.sliceArray),[{id:a,body:s.body,title:s.title,createAt:new Date}]),countSameWord:[].concat(Object(p.a)(t.countSameWord),[h(r)])};case j:var l=e.payload.post,d=f(Date.now()+1,l.id,l),O=x(t.sliceArray,l.id);return{sliceArray:[].concat(Object(p.a)(t.sliceArray.slice(0,O)),[Object(_.a)(Object(_.a)({},l),{},{id:t.sliceArray[O].id})],Object(p.a)(t.sliceArray.slice(O+1))),countSameWord:[].concat(Object(p.a)(t.countSameWord.filter((function(t){return t.idPost!==l.id}))),[h(d)])};case m:var g=e.payload.post;return{sliceArray:Object(p.a)(t.sliceArray.filter((function(t){return t.id!==g.id}))),countSameWord:Object(p.a)(t.countSameWord.filter((function(t){return t.idPost!==g.id})))};default:return t}},w=n(27),N=n(17),A=n(79),D=n(28),W=n.n(D),B=n(169),M=n(149),T=n(153),E=n(154),L=n(155),I=n(156),z=n(157),Y=n(158),F=n(4),J={delete:function(t){return Object(F.jsx)(M.a,{htmlColor:t})},send:function(t){return Object(F.jsx)(T.a,{htmlColor:t})},compare:function(t){return Object(F.jsx)(E.a,{htmlColor:t})},add:function(t){return Object(F.jsx)(L.a,{htmlColor:t})},list:function(t){return Object(F.jsx)(I.a,{htmlColor:t})},edit:function(t){return Object(F.jsx)(z.a,{htmlColor:t})},close:function(t){return Object(F.jsx)(Y.a,{htmlColor:t})}},q=n(72),H=n.n(q),K=function(t){var e=t.className,n=t.onClick,c=t.title,o=t.icon,i=t.color;return Object(F.jsx)(B.a,{title:c,placement:"top",children:Object(F.jsx)("button",{className:"".concat(e," ").concat(H.a.button_icon),onClick:n,children:J[o](i)})})};K.defaultProps={className:"",onClick:null,title:"",icon:""};var U=K,Z=n(74),X=n.n(Z),G=n(160),Q=n(161),R=n(162),V=n(163),$=n(38),tt=n(164),et=function(t){var e=t.post,n=t.update,c=t.deleting,o=t.compare,i=t.options,s=t.toggle,a=t.isSame,r=t.setSame;return Object(F.jsx)(G.a,{item:!0,xs:12,sm:6,md:4,children:Object(F.jsxs)(Q.a,{className:W.a.items,children:[Object(F.jsx)(R.a,{title:i.title.isChecked?Object(F.jsx)("h4",{className:W.a.items_title,children:e.title}):null,subheader:i.createAt.isChecked?Object(F.jsx)("div",{className:W.a.items_date,children:Object(F.jsx)("div",{className:W.a.date_and_time,children:e.createAt?X()(e.createAt).format("MMMM Do YYYY, h:mm:ss a"):""})}):null}),Object(F.jsx)(V.a,{children:Object(F.jsx)($.a,{variant:"body2",color:"textPrimary",component:"span",children:i.description.isChecked?Object(F.jsx)("div",{className:W.a.items_text,children:e.body}):null})}),Object(F.jsx)(tt.a,{children:a?Object(F.jsx)(U,{title:"All posts",onClick:function(){return r(!1)},icon:"list"}):Object(F.jsxs)("div",{className:W.a.buttonBlock,children:[Object(F.jsx)(U,{title:"Top same",onClick:function(){return o(e)},icon:"compare"}),Object(F.jsx)(U,{title:"Edit",onClick:function(){s(),n(e)},icon:"edit"}),Object(F.jsx)(U,{title:"Delete",className:W.a.button_delete,onClick:function(){return c(e)},icon:"delete",color:"red"})]})})]})})},nt=n(11),ct=n.n(nt),ot=n(48),it=n.n(ot),st=function(t){var e=t.isShowing,n=t.hide,c=t.children,o=t.clearModal;return e?s.a.createPortal(Object(F.jsx)(F.Fragment,{children:Object(F.jsx)("div",{className:it.a.modal,children:Object(F.jsxs)("div",{className:it.a.modal_content,children:[Object(F.jsx)("div",{className:it.a.buttonBlock,children:Object(F.jsx)(U,{title:"Close",onClick:function(){o(),n()},color:"red",icon:"close"})}),c]})})}),document.body):null},at=function(){var t=Object(c.useState)(!1),e=Object(N.a)(t,2),n=e[0],o=e[1];return{isShowing:n,toggle:function(){o(!n)}}},rt=function(t,e){for(var n=0,c=0,o=Object.entries(t);c<o.length;c++){var i=Object(N.a)(o[c],2),s=i[0],a=i[1],r=e[s];r&&(n+=Math.min(r,a))}return n},lt=n(166),dt=n(75),ut=n.n(dt),bt=function(t){var e=t.className,n=t.classNameBox,c=t.onChange,o=t.id,i=t.value,s=t.label,a=t.rowsMax,r=t.rows,l=t.variant,d=t.size;return Object(F.jsx)("div",{className:n,children:Object(F.jsx)(lt.a,{className:"".concat(e," ").concat(ut.a.input),onChange:c,id:o,value:i,label:s,rowsMax:a,rows:r,multiline:!0,variant:l,size:d})})};bt.defaultProps={className:"",onChange:null,id:"",value:"",label:"",rowsMax:1,rows:1,variant:"outlined",size:"medium"};var jt=n(165),mt=n(167),_t={title:{isChecked:!0,fieldName:"Title"},description:{isChecked:!0,fieldName:"Description"},createAt:{isChecked:!0,fieldName:"Date add"}},pt="title",Ot="body",ft=function(t){var e,n=t.descriptions,o=t.countSameWord,i=Object(A.a)(t,["descriptions","countSameWord"]),s=Object(c.useState)((e={id:""},Object(w.a)(e,pt,""),Object(w.a)(e,Ot,""),Object(w.a)(e,"createAt",""),e)),a=Object(N.a)(s,2),r=a[0],l=a[1],d=Object(c.useState)(""),u=Object(N.a)(d,2),b=u[0],j=u[1],m=Object(c.useState)(!1),O=Object(N.a)(m,2),f=O[0],h=O[1],x=Object(c.useState)(!1),g=Object(N.a)(x,2),y=g[0],v=g[1],C=Object(c.useState)(n),P=Object(N.a)(C,2),k=P[0],S=P[1],D=Object(c.useState)(n),W=Object(N.a)(D,2),B=W[0],M=W[1],T=Object(c.useState)(_t),E=Object(N.a)(T,2),L=E[0],I=E[1],z=at(),Y=z.isShowing,J=z.toggle,q=function(){l({title:"",body:""}),h(!1)};Object(c.useEffect)((function(){var t=b.toLowerCase();S(n.filter((function(e){return e.title.toLowerCase().includes(t)})))}),[n,b]);var H=function(t){i.deletePost(t),q()},K=function(t){h(!0),l(t)},Z=function(t){v(!0);var e=o.find((function(e){return e.idPost===t.id})),c=o.filter((function(e){return e.idPost!==t.id}));M([t].concat(Object(p.a)(function(t,e){var n=e.itemDescription.filter((function(t){return t.compareSum})).sort((function(t,e){return e.compareSum-t.compareSum})).slice(0,2);return t.filter((function(t){return n.find((function(e){return e.idPost===t.id}))}))}(n,function(t,e){return{itemDescription:e.map((function(e){var n=rt(t.countDescriptionWords,e.countDescriptionWords);return n+=rt(t.countTitleWords,e.countTitleWords),{idPost:e.idPost,compareSum:n}}))}}(e,c)))))},X=function(t){l(Object(_.a)(Object(_.a)({},r),{},Object(w.a)({},t.target.id,t.target.value)))},Q=function(t){return Object(F.jsx)(et,{options:L,update:K,deleting:H,compare:Z,post:t,toggle:J,isSame:y,setSame:v},t.id)},R=function(t,e){return Object(F.jsx)(G.a,{item:!0,className:ct.a.checkedOptions,children:Object(F.jsx)(jt.a,{control:Object(F.jsx)(mt.a,{id:e.fieldName,name:e.fieldName,checked:e.isChecked,onChange:function(e){return function(t,e){I((function(t){return Object(_.a)(Object(_.a)({},t),{},Object(w.a)({},e,Object(_.a)(Object(_.a)({},t[e]),{},{isChecked:!t[e].isChecked})))}))}(0,t)},size:"small",color:"primary"}),label:e.fieldName})},e.fieldName)};return Object(F.jsx)("div",{className:Y?"".concat(ct.a.dialogs," ").concat(ct.a.none_scrolling):"".concat(ct.a.dialogs),children:Object(F.jsxs)("div",{className:ct.a.messageBox,children:[Object(F.jsxs)(G.a,{container:!0,alignItems:"center",className:ct.a.funcBlock,children:[Object(F.jsx)(G.a,{item:!0,xs:8,sm:3,md:3,children:Object(F.jsx)(bt,{className:"".concat(ct.a.search),onChange:function(t){j(t.target.value)},value:b,label:"Search",size:"small"})}),Object(F.jsx)(G.a,{item:!0,xs:12,sm:7,md:5,className:ct.a.checkedBlock,children:Object(F.jsx)(G.a,{container:!0,justify:"center",children:Object.entries(L).map((function(t){return R.apply(void 0,Object(p.a)(t))}))})}),Object(F.jsx)(G.a,{item:!0,xs:2,sm:1,md:3,className:ct.a.header_button_block,children:Object(F.jsx)("div",{className:ct.a.button_block,children:Object(F.jsx)(U,{icon:"add",title:"New Post",onClick:J})})})]}),Object(F.jsx)(st,{clearModal:q,isShowing:Y,hide:J,children:Object(F.jsxs)("div",{className:ct.a.messageInput,children:[Object(F.jsx)(bt,{classNameBox:ct.a.input_new_title,onChange:X,id:pt,value:r.title,label:"Title",rowsMax:2}),Object(F.jsx)(bt,{classNameBox:ct.a.input_new_description,onChange:X,id:Ot,value:r.body,label:"Description",rowsMax:5,rows:4}),Object(F.jsx)("div",{className:ct.a.button_send_block,children:Object(F.jsx)(U,{title:"Send",onClick:f?function(){i.editPost(r),q(),h(!1),J()}:function(){r.body&&""!==r.title&&i.addPost(r),q(),J()},color:"#3f51b5",icon:"send"})})]})}),Object(F.jsx)(G.a,{container:!0,spacing:1,className:ct.a.messagesContent,children:y?B.map(Q):k.map(Q)})]})})},ht=n(45),xt=function(t){Object(l.a)(n,t);var e=Object(d.a)(n);function n(){return Object(a.a)(this,n),e.apply(this,arguments)}return Object(r.a)(n,[{key:"componentDidMount",value:function(){(0,this.props.getPosts)()}},{key:"render",value:function(){return Object(F.jsx)(ft,{descriptions:this.props.descriptions,countSameWord:this.props.countSameWord,addPost:this.props.addDescriptionActionCreator,editPost:this.props.editPostAC,deletePost:this.props.deletePostAC})}}]),n}(o.a.Component),gt=Object(ht.b)((function(t){return{descriptions:t.postsPage.sliceArray,countSameWord:t.postsPage.countSameWord}}),{getPosts:function(){return function(t){v().then((function(e){t({type:b,payload:{posts:e}})}))}},addDescriptionActionCreator:function(t){return{type:u,payload:{post:t}}},editPostAC:function(t){return{type:j,payload:{post:t}}},deletePostAC:function(t){return{type:m,payload:{post:t}}}})(xt);var yt=function(){return Object(F.jsx)(F.Fragment,{children:Object(F.jsx)(gt,{})})},vt=n(49),Ct=n(76),Pt=Object(vt.b)({postsPage:S}),kt=Object(vt.c)(Pt,Object(vt.a)(Ct.a));s.a.render(Object(F.jsx)(ht.a,{store:kt,children:Object(F.jsx)(yt,{})}),document.getElementById("root"))},28:function(t,e,n){t.exports={messages:"Description_messages__38-2W",items:"Description_items__2lKeH",buttonBlock:"Description_buttonBlock__1oLhi",items_text:"Description_items_text__JTXSJ",items_title:"Description_items_title__wIth5",items_date:"Description_items_date__1PwpA",date_and_time:"Description_date_and_time__3CWEt",button_delete:"Description_button_delete__wg6aI",footer:"Description_footer__2fPzc"}},48:function(t,e,n){t.exports={modal:"Modal_modal__1pUjq",modal_content:"Modal_modal_content__cqj3u",buttonBlock:"Modal_buttonBlock__OzCWK"}},72:function(t,e,n){t.exports={button_icon:"IconButton_button_icon__2t2_N"}},75:function(t,e,n){t.exports={input:"CustomTextField_input__1WtAq"}},94:function(t,e,n){}},[[120,1,2]]]);
//# sourceMappingURL=main.ec91553a.chunk.js.map