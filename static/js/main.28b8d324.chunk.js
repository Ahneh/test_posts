(this.webpackJsonpposts=this.webpackJsonpposts||[]).push([[0],{11:function(t,e,n){t.exports={dialogs:"Posts_dialogs__2rZbu",none_scrolling:"Posts_none_scrolling__2_EPt",messageBox:"Posts_messageBox__YiQE8",messageInput:"Posts_messageInput__nLtXa",input:"Posts_input__3sjUp",input_new_description:"Posts_input_new_description__3Y-yV",input_new_title:"Posts_input_new_title__2H33O",checkedOptions:"Posts_checkedOptions__1nC6Z",funcBlock:"Posts_funcBlock__26Lil",button_send_block:"Posts_button_send_block__1e3xu",button_all_posts:"Posts_button_all_posts__3_zFg",button_block:"Posts_button_block__3AtKg",checkedBlock:"Posts_checkedBlock__3zwST",search:"Posts_search__eHZbA",header_button_block:"Posts_header_button_block__3t3s9",checked:"Posts_checked__2jrzh"}},120:function(t,e,n){"use strict";n.r(e);var c=n(0),o=n.n(c),a=n(9),i=n.n(a),s=(n(94),n(65)),r=n(66),l=n(78),d=n(77),u="ADD_POST",j="GET_POSTS",b="EDIT_POST",m="DELETE_POST",_=n(22),p=n(18),O=function(t){var e={};return t.forEach((function(t){return e[t]=(e[t]||0)+1})),e},f=function(t,e,n){return{id:t,idPost:e,descriptionsArray:n.body.toLowerCase().split(" "),titleArray:n.title.toLowerCase().split(" ")}},h=function(t){return{idPost:t.idPost,countDescriptionWords:O(t.descriptionsArray),countTitleWords:O(t.titleArray)}},x=function(t,e){return t.findIndex((function(t){return t.id===e}))},g=n(67),v=n.n(g).a.create({baseURL:"https://jsonplaceholder.typicode.com/",withCredentials:!0}),y=function(){return v.get("posts").then((function(t){return t.data.slice(0,10)}))},P=[{id:0,title:"",body:"",createAt:""}],k=P.map((function(t){return{id:Date.now(),idPost:t.id,descriptionsArray:t.body.toLowerCase().split(" "),titleArray:t.title.toLowerCase().split(" ")}})),C={sliceArray:P,countSameWord:k.map(h)},S=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:C,e=arguments.length>1?arguments[1]:void 0;switch(e.type){case j:var n=e.payload.posts,c=[],o=[],a=null;return n.forEach((function(t){a=f(Date.now()+1,t.id,t),c.push({id:t.id,body:t.body,title:t.title,createAt:new Date}),o.push(h(a))})),{sliceArray:[].concat(c),countSameWord:[].concat(Object(p.a)(t.countSameWord),o)};case u:var i=e.payload.post,s=Date.now(),r=f(s+1,s,i);return{sliceArray:[].concat(Object(p.a)(t.sliceArray),[{id:s,body:i.body,title:i.title,createAt:new Date}]),countSameWord:[].concat(Object(p.a)(t.countSameWord),[h(r)])};case b:var l=e.payload.post,d=f(Date.now()+1,l.id,l),O=x(t.sliceArray,l.id);return{sliceArray:[].concat(Object(p.a)(t.sliceArray.slice(0,O)),[Object(_.a)(Object(_.a)({},l),{},{id:t.sliceArray[O].id})],Object(p.a)(t.sliceArray.slice(O+1))),countSameWord:[].concat(Object(p.a)(t.countSameWord.filter((function(t){return t.idPost!==l.id}))),[h(d)])};case m:var g=e.payload.post;return{sliceArray:Object(p.a)(t.sliceArray.filter((function(t){return t.id!==g.id}))),countSameWord:Object(p.a)(t.countSameWord.filter((function(t){return t.idPost!==g.id})))};default:return t}},N=n(27),w=n(17),A=n(79),D=n(28),W=n.n(D),B=n(173),M=n(152),T=n(156),E=n(157),L=n(158),z=n(159),I=n(160),Y=n(161),F=n(3),J={delete:function(t){return Object(F.jsx)(M.a,{htmlColor:t})},send:function(t){return Object(F.jsx)(T.a,{htmlColor:t})},compare:function(t){return Object(F.jsx)(E.a,{htmlColor:t})},add:function(t){return Object(F.jsx)(L.a,{htmlColor:t})},list:function(t){return Object(F.jsx)(z.a,{htmlColor:t})},edit:function(t){return Object(F.jsx)(I.a,{htmlColor:t})},close:function(t){return Object(F.jsx)(Y.a,{htmlColor:t})}},q=n(72),H=n.n(q),K=function(t){var e=t.className,n=t.onClick,c=t.title,o=t.icon,a=t.color;return Object(F.jsx)(B.a,{title:c,placement:"top",children:Object(F.jsx)("button",{className:"".concat(e," ").concat(H.a.button_icon),onClick:n,children:J[o](a)})})};K.defaultProps={className:"",onClick:null,title:"",icon:""};var U=K,Z=n(74),X=n.n(Z),G=n(163),Q=n(164),R=n(165),V=n(167),$=n(38),tt=n(168),et=n(166),nt=function(t){var e=t.post,n=t.update,c=t.deleting,o=t.compare,a=t.options,i=t.toggle,s=t.isSame,r=t.setSame;return Object(F.jsx)(G.a,{item:!0,xs:12,sm:6,md:4,children:Object(F.jsxs)(Q.a,{className:W.a.items,children:[Object(F.jsx)(R.a,{title:a.title.isChecked&&""!==e.title?Object(F.jsx)("h4",{className:W.a.items_title,children:e.title}):Object(F.jsx)(et.a,{variant:"text"}),subheader:a.createAt.isChecked&&""!==e.createAt?Object(F.jsx)("div",{className:W.a.items_date,children:Object(F.jsx)("div",{className:W.a.date_and_time,children:e.createAt?X()(e.createAt).format("MMMM Do YYYY, h:mm:ss a"):""})}):Object(F.jsx)(et.a,{variant:"text"})}),Object(F.jsx)(V.a,{children:Object(F.jsx)($.a,{variant:"body2",color:"textPrimary",component:"span",children:a.description.isChecked&&""!==e.body?Object(F.jsx)("div",{className:W.a.items_text,children:e.body}):Object(F.jsxs)(F.Fragment,{children:[Object(F.jsx)(et.a,{variant:"text"}),Object(F.jsx)(et.a,{variant:"text"}),Object(F.jsx)(et.a,{variant:"text"}),Object(F.jsx)(et.a,{variant:"text"})]})})}),Object(F.jsx)(tt.a,{children:s?Object(F.jsx)(U,{title:"All posts",onClick:function(){return r(!1)},icon:"list"}):Object(F.jsxs)("div",{className:W.a.buttonBlock,children:[Object(F.jsx)(U,{title:"Top same",onClick:function(){return o(e)},icon:"compare"}),Object(F.jsx)(U,{title:"Edit",onClick:function(){i(),n(e)},icon:"edit"}),Object(F.jsx)(U,{title:"Delete",className:W.a.button_delete,onClick:function(){return c(e)},icon:"delete",color:"red"})]})})]})})},ct=n(11),ot=n.n(ct),at=n(48),it=n.n(at),st=function(t){var e=t.isShowing,n=t.hide,c=t.children,o=t.clearModal;return e?i.a.createPortal(Object(F.jsx)(F.Fragment,{children:Object(F.jsx)(G.a,{container:!0,className:it.a.modal,children:Object(F.jsxs)(G.a,{item:!0,lg:4,md:4,sm:6,xs:10,className:it.a.modal_content,children:[Object(F.jsx)("div",{className:it.a.buttonBlock,children:Object(F.jsx)(U,{title:"Close",onClick:function(){o(),n()},color:"red",icon:"close"})}),c]})})}),document.body):null},rt=function(){var t=Object(c.useState)(!1),e=Object(w.a)(t,2),n=e[0],o=e[1];return{isShowing:n,toggle:function(){o(!n)}}},lt=function(t,e){for(var n=0,c=0,o=Object.entries(t);c<o.length;c++){var a=Object(w.a)(o[c],2),i=a[0],s=a[1],r=e[i];r&&(n+=Math.min(r,s))}return n},dt=n(170),ut=n(75),jt=n.n(ut),bt=function(t){var e=t.className,n=t.classNameBox,c=t.onChange,o=t.id,a=t.value,i=t.label,s=t.rowsMax,r=t.rows,l=t.variant,d=t.size;return Object(F.jsx)("div",{className:n,children:Object(F.jsx)(dt.a,{className:"".concat(e," ").concat(jt.a.input),onChange:c,id:o,value:a,label:i,rowsMax:s,rows:r,multiline:!0,variant:l,size:d})})};bt.defaultProps={className:"",onChange:null,id:"",value:"",label:"",rowsMax:1,rows:1,variant:"outlined",size:"medium"};var mt=n(169),_t=n(171),pt={title:{isChecked:!0,fieldName:"Title"},description:{isChecked:!0,fieldName:"Description"},createAt:{isChecked:!0,fieldName:"Date add"}},Ot="title",ft="body",ht=function(t){var e,n=t.descriptions,o=t.countSameWord,a=Object(A.a)(t,["descriptions","countSameWord"]),i=Object(c.useState)((e={id:""},Object(N.a)(e,Ot,""),Object(N.a)(e,ft,""),Object(N.a)(e,"createAt",""),e)),s=Object(w.a)(i,2),r=s[0],l=s[1],d=Object(c.useState)(""),u=Object(w.a)(d,2),j=u[0],b=u[1],m=Object(c.useState)(!1),O=Object(w.a)(m,2),f=O[0],h=O[1],x=Object(c.useState)(!1),g=Object(w.a)(x,2),v=g[0],y=g[1],P=Object(c.useState)(n),k=Object(w.a)(P,2),C=k[0],S=k[1],D=Object(c.useState)(n),W=Object(w.a)(D,2),B=W[0],M=W[1],T=Object(c.useState)(pt),E=Object(w.a)(T,2),L=E[0],z=E[1],I=rt(),Y=I.isShowing,J=I.toggle,q=function(){l({title:"",body:""}),h(!1)};Object(c.useEffect)((function(){var t=j.toLowerCase();S(n.filter((function(e){return e.title.toLowerCase().includes(t)})))}),[n,j]);var H=function(t){a.deletePost(t),q()},K=function(t){h(!0),l(t)},Z=function(t){y(!0);var e=o.find((function(e){return e.idPost===t.id})),c=o.filter((function(e){return e.idPost!==t.id}));M([t].concat(Object(p.a)(function(t,e){var n=e.itemDescription.filter((function(t){return t.compareSum})).sort((function(t,e){return e.compareSum-t.compareSum})).slice(0,2);return t.filter((function(t){return n.find((function(e){return e.idPost===t.id}))}))}(n,function(t,e){return{itemDescription:e.map((function(e){var n=lt(t.countDescriptionWords,e.countDescriptionWords);return n+=lt(t.countTitleWords,e.countTitleWords),{idPost:e.idPost,compareSum:n}}))}}(e,c)))))},X=function(t){l(Object(_.a)(Object(_.a)({},r),{},Object(N.a)({},t.target.id,t.target.value)))},Q=function(t){return Object(F.jsx)(nt,{options:L,update:K,deleting:H,compare:Z,post:t,toggle:J,isSame:v,setSame:y},t.id)},R=function(t,e){return Object(F.jsx)(G.a,{item:!0,className:ot.a.checkedOptions,children:Object(F.jsx)(mt.a,{labelPlacement:"start",control:Object(F.jsx)(_t.a,{id:e.fieldName,name:e.fieldName,checked:e.isChecked,onChange:function(e){return function(t,e){z((function(t){return Object(_.a)(Object(_.a)({},t),{},Object(N.a)({},e,Object(_.a)(Object(_.a)({},t[e]),{},{isChecked:!t[e].isChecked})))}))}(0,t)},size:"small",color:"primary"}),label:e.fieldName})},e.fieldName)};return Object(F.jsx)("div",{className:Y?"".concat(ot.a.dialogs," ").concat(ot.a.none_scrolling):"".concat(ot.a.dialogs),children:Object(F.jsxs)("div",{className:ot.a.messageBox,children:[Object(F.jsxs)(G.a,{container:!0,alignItems:"center",className:ot.a.funcBlock,children:[Object(F.jsx)(G.a,{item:!0,xs:9,sm:3,md:3,children:Object(F.jsx)(bt,{className:"".concat(ot.a.search),onChange:function(t){b(t.target.value)},value:j,label:"Search",size:"small"})}),Object(F.jsx)(G.a,{item:!0,xs:12,sm:8,md:5,className:ot.a.checkedBlock,children:Object(F.jsx)(G.a,{container:!0,justify:"center",className:ot.a.checked,children:Object.entries(L).map((function(t){return R.apply(void 0,Object(p.a)(t))}))})}),Object(F.jsx)(G.a,{item:!0,xs:2,sm:1,md:3,className:ot.a.header_button_block,children:Object(F.jsx)("div",{className:ot.a.button_block,children:Object(F.jsx)(U,{icon:"add",title:"New Post",onClick:J})})})]}),Object(F.jsx)(st,{clearModal:q,isShowing:Y,hide:J,children:Object(F.jsxs)("div",{className:ot.a.messageInput,children:[Object(F.jsx)(bt,{classNameBox:ot.a.input_new_title,onChange:X,id:Ot,value:r.title,label:"Title",rowsMax:2}),Object(F.jsx)(bt,{classNameBox:ot.a.input_new_description,onChange:X,id:ft,value:r.body,label:"Description",rowsMax:5,rows:4}),Object(F.jsx)("div",{className:ot.a.button_send_block,children:Object(F.jsx)(U,{title:"Send",onClick:f?function(){a.editPost(r),q(),h(!1),J()}:function(){r.body&&""!==r.title&&a.addPost(r),q(),J()},color:"#3f51b5",icon:"send"})})]})}),Object(F.jsx)(G.a,{container:!0,spacing:1,className:ot.a.messagesContent,children:v?B.map(Q):C.map(Q)})]})})},xt=n(45),gt=function(t){Object(l.a)(n,t);var e=Object(d.a)(n);function n(){return Object(s.a)(this,n),e.apply(this,arguments)}return Object(r.a)(n,[{key:"componentDidMount",value:function(){(0,this.props.getPosts)()}},{key:"render",value:function(){return Object(F.jsx)(ht,{descriptions:this.props.descriptions,countSameWord:this.props.countSameWord,addPost:this.props.addDescriptionActionCreator,editPost:this.props.editPostAC,deletePost:this.props.deletePostAC})}}]),n}(o.a.Component),vt=Object(xt.b)((function(t){return{descriptions:t.postsPage.sliceArray,countSameWord:t.postsPage.countSameWord}}),{getPosts:function(){return function(t){y().then((function(e){t({type:j,payload:{posts:e}})}))}},addDescriptionActionCreator:function(t){return{type:u,payload:{post:t}}},editPostAC:function(t){return{type:b,payload:{post:t}}},deletePostAC:function(t){return{type:m,payload:{post:t}}}})(gt);var yt=function(){return Object(F.jsx)(F.Fragment,{children:Object(F.jsx)(vt,{})})},Pt=n(49),kt=n(76),Ct=Object(Pt.b)({postsPage:S}),St=Object(Pt.c)(Ct,Object(Pt.a)(kt.a));i.a.render(Object(F.jsx)(xt.a,{store:St,children:Object(F.jsx)(yt,{})}),document.getElementById("root"))},28:function(t,e,n){t.exports={messages:"Description_messages__38-2W",items:"Description_items__2lKeH",buttonBlock:"Description_buttonBlock__1oLhi",items_text:"Description_items_text__JTXSJ",items_title:"Description_items_title__wIth5",items_date:"Description_items_date__1PwpA",date_and_time:"Description_date_and_time__3CWEt",button_delete:"Description_button_delete__wg6aI",footer:"Description_footer__2fPzc"}},48:function(t,e,n){t.exports={modal:"Modal_modal__1pUjq",modal_content:"Modal_modal_content__cqj3u",buttonBlock:"Modal_buttonBlock__OzCWK"}},72:function(t,e,n){t.exports={button_icon:"IconButton_button_icon__2t2_N"}},75:function(t,e,n){t.exports={input:"CustomTextField_input__1WtAq"}},94:function(t,e,n){}},[[120,1,2]]]);
//# sourceMappingURL=main.28b8d324.chunk.js.map